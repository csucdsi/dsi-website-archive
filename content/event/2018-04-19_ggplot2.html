---
title: 'Data Visualization using ggplot2'
author: 'Robin Donatello'
slug: ggplot2_intro2
draft: true
description: '04-19-18 Workshop materials'
---



<div id="preparation" class="section level1">
<h1>Preparation</h1>
<p>To get the most out of this workshop you should have the following installed on your laptop:</p>
<ul>
<li>R Version 3.3+
<ul>
<li>with installed packages: <code>ggplot2</code>, <code>ggmap</code>, <code>MASS</code></li>
</ul></li>
<li>R Studio version 1.1+</li>
</ul>
<p>Using the <code>survey</code> data set that is built into the <code>MASS</code> package, we will create several plots. Letâ€™s load this into our working directory.</p>
<pre class="r"><code>survey &lt;- MASS::survey</code></pre>
</div>
<div id="one-categorical-variable" class="section level1">
<h1>One categorical variable</h1>
<div id="barchart" class="section level2">
<h2>Barchart</h2>
<p>A barchart of how often the responders excercised in the past month. <code>geom_bar</code> makes the height of the bar proportional to the number of cases in each group.</p>
<pre class="r"><code>cdc$smoke_char &lt;- factor(cdc$smoke100, labels=c(&quot;No&quot;, &quot;Yes&quot;))
ggplot(cdc, aes(x=exerany, fill=smoke_char)) + geom_bar(position=&quot;dodge&quot;)</code></pre>
</div>
</div>
<div id="one-numeric-variable" class="section level1">
<h1>One numeric variable</h1>
<div id="histograms-and-densities" class="section level2">
<h2>Histograms and densities</h2>
<p>of age, with an overlaid density plot in a different color.</p>
<pre class="r"><code>ggplot(cdc, aes(x=age)) + geom_density(col=&quot;blue&quot;) + 
  geom_histogram(aes(y=..density..), colour=&quot;black&quot;, fill=NA)</code></pre>
</div>
<div id="boxplots" class="section level2">
<h2>Boxplots</h2>
<p>A boxplot of weight.</p>
<pre class="r"><code>boxplot(cdc$weight, horizontal = TRUE, main=&quot;Distribution of respondants weight&quot;, xlab=&quot;Pounds&quot;)</code></pre>
</div>
</div>
<div id="two-categorical-variables" class="section level1">
<h1>Two categorical variables</h1>
<div id="grouped-barchart" class="section level2">
<h2>Grouped barchart</h2>
<p>of exercise frequency <em>within</em> smoking status.</p>
<pre class="r"><code>ggplot(cdc, aes(x=smoke_char, fill=genhlth)) + geom_bar(position=&quot;dodge&quot;)</code></pre>
</div>
</div>
<div id="two-numeric-variables" class="section level1">
<h1>Two numeric variables</h1>
<div id="scatterplots" class="section level2">
<h2>Scatterplots</h2>
<p>A scatterplot of the weight against desired weight</p>
<pre class="r"><code>plot(weight~wtdesire, data=cdc)</code></pre>
<ol style="list-style-type: lower-alpha">
<li>Add a best fit line in purple.</li>
</ol>
<pre class="r"><code>plot(weight~wtdesire, data=cdc)
abline(lm(weight~wtdesire, data=cdc), col=&quot;purple&quot;)</code></pre>
</div>
</div>
<div id="one-numeric-and-one-categorical" class="section level1">
<h1>One numeric and one categorical</h1>
<div id="overlaid-density-plots." class="section level2">
<h2>Overlaid density plots.</h2>
<p>Overlaid density plots of height by gender. No fill, color only.</p>
<pre class="r"><code>ggplot(cdc, aes(x=height, col=gender)) + geom_density()</code></pre>
</div>
<div id="paneled-histograms" class="section level2">
<h2>Paneled histograms</h2>
<p>Histogram of weight paneled by gender</p>
<ol style="list-style-type: lower-alpha">
<li>where the panels are horizontal (1 row 2 columns)</li>
</ol>
<pre class="r"><code>ggplot(cdc, aes(x=weight, fill=gender)) + geom_histogram() + facet_wrap(~gender)</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li>where the panels are vertical (2 rows 1 column)</li>
</ol>
<pre class="r"><code>ggplot(cdc, aes(x=weight, fill=gender)) + geom_histogram() + facet_wrap(~gender, ncol=1)</code></pre>
</div>
</div>
<div id="two-numerical-and-one-categorical" class="section level1">
<h1>Two numerical and one categorical</h1>
<div id="scatterplots-with-color" class="section level2">
<h2>Scatterplots with color</h2>
<p>A scatterplot of height (y) against weight (x) grouped by gender (you can choose grouping by shape or color)</p>
<pre class="r"><code>ggplot(cdc, aes(x=height, y=weight, color=gender)) + geom_point()</code></pre>
</div>
<div id="stratified-scatterplots-with-paneling" class="section level2">
<h2>Stratified scatterplots with paneling</h2>
<p>A scatterplot of height against age paneled (faceted) by general health status.</p>
<pre class="r"><code>ggplot(cdc, aes(x=age, y=height, color=genhlth)) + geom_point() + facet_grid(~genhlth)</code></pre>
</div>
</div>
<div id="one-numerical-and-two-categorical" class="section level1">
<h1>One numerical and two categorical</h1>
<div id="grouped-boxplots" class="section level2">
<h2>Grouped boxplots</h2>
<p>Desired weight by exercise &amp; gender. Put one categorical on the x, fill the box color by the other.</p>
<pre class="r"><code>ggplot(cdc, aes(x=exerany, y=wtdesire, fill=gender)) + geom_boxplot()</code></pre>
</div>
<div id="grouped-boxplots-with-paneling" class="section level2">
<h2>Grouped boxplots with paneling</h2>
<p>Same plot as above, but now panel by smoking status category.</p>
<pre class="r"><code>ggplot(cdc, aes(x=exerany, y=wtdesire, fill=gender)) + geom_boxplot() +
  facet_wrap(~smoke_char, ncol=2)</code></pre>
</div>
</div>
